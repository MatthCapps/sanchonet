"use strict";(self.webpackChunksanchonet=self.webpackChunksanchonet||[]).push([[702],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>m});var a=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var l=a.createContext({}),s=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=s(t.components);return a.createElement(l.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},f=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,l=t.parentName,p=c(t,["components","mdxType","originalType","parentName"]),u=s(n),f=o,m=u["".concat(l,".").concat(f)]||u[f]||d[f]||r;return n?a.createElement(m,i(i({ref:e},p),{},{components:n})):a.createElement(m,i({ref:e},p))}));function m(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,i=new Array(r);i[0]=f;var c={};for(var l in e)hasOwnProperty.call(e,l)&&(c[l]=e[l]);c.originalType=t,c[u]="string"==typeof t?t:o,i[1]=c;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},8824:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>c,toc:()=>s});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_label:"Create actions",title:"Creating governance actions",sidebar_position:5,slug:"/tutorials/create-action"},i=void 0,c={unversionedId:"tutorials/create-action",id:"tutorials/create-action",title:"Creating governance actions",description:"Currently, during Phase 1, only stake pools have the capability to create and vote on governance actions. Upcoming releases will introduce the ability for any ada holder to submit governance actions. This implies that, at present, the most effective approach to creating governance actions on SanchoNet is to become a stake pool operator.",source:"@site/docs/tutorials/create-action.mdx",sourceDirName:"tutorials",slug:"/tutorials/create-action",permalink:"/tutorials/create-action",draft:!1,editUrl:"https://github.com/input-output-hk/sanchonet/tree/master/docs/tutorials/create-action.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_label:"Create actions",title:"Creating governance actions",sidebar_position:5,slug:"/tutorials/create-action"},sidebar:"docsSidebar",previous:{title:"Register a stake pool",permalink:"/tutorials/stake-pool-registration"},next:{title:"Voting",permalink:"/tutorials/vote-action"}},l={},s=[],p={toc:s},u="wrapper";function d(t){let{components:e,...n}=t;return(0,o.kt)(u,(0,a.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Currently, during ",(0,o.kt)("strong",{parentName:"p"},"Phase 1"),", only stake pools have the capability to ",(0,o.kt)("strong",{parentName:"p"},"create")," and ",(0,o.kt)("strong",{parentName:"p"},"vote")," on governance actions. Upcoming releases will introduce the ability for any ada holder to submit governance actions. This implies that, at present, the most effective approach to creating governance actions on SanchoNet is to become a ",(0,o.kt)("a",{parentName:"p",href:"/roles/spo"},"stake pool operator"),"."),(0,o.kt)("p",null,"Once you have your pool up and running, the process of creating an action is quite straightforward:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Write a constitution update and save it to a text file:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'echo "We are Cardano and we are going to change the world!" > constitution.txt\n')),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"You can check the hash of the constitution.txt file with:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"b2sum -l 256 constitution.txt\n")),(0,o.kt)("p",null,"You should see:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"df452c58fdbc203d78188f94d067d63df87891d9dba43f32b953b8ea5a959a69  constitution.txt\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The Cardano CLI may eventually offer a feature for hashing action files.")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Create the action file:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"cardano-cli governance action create-action create-constitution \\\n  --conway-era \\\n  --governance-action-deposit 1000000 \\\n  --cold-verification-key-file cold.vkey \\\n  --constitution-file constitution.txt \\\n  --out-file constitution.action\n")),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"If everything went well, you should be able to view the content of the ",(0,o.kt)("inlineCode",{parentName:"li"},"constitution.action")," file:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"cat constitution.action\n")),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"You can now build a transaction with the proposal:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"  cardano-cli transaction build --testnet-magic 4 --conway-era \\\n  --tx-in $(cardano-cli query utxo --address $(cat payment.addr) --testnet-magic 4 --out-file /dev/stdout | jq -r 'keys[0]') \\\n  --change-address $(cat payment.addr) \\\n  --constitution-file constitution.action \\\n  --witness-override 2 \\\n  --out-file tx.raw\n")),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},"Sign the transaction with your ",(0,o.kt)("inlineCode",{parentName:"li"},"cold.skey")," and a ",(0,o.kt)("inlineCode",{parentName:"li"},"payment.skey"),":")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"cardano-cli transaction sign \\\n  --tx-body-file tx.raw \\\n  --signing-key-file cold.skey \\\n  --signing-key-file payment.skey \\\n  --testnet-magic 4 \\\n  --out-file tx.signed\n")),(0,o.kt)("ol",{start:7},(0,o.kt)("li",{parentName:"ol"},"You can now submit the transaction to the chain:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"cardano-cli transaction submit \\\n  --testnet-magic 4 \\\n  --tx-file tx.signed\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"You have now submitted a constitution update governance action!")),(0,o.kt)("ol",{start:8},(0,o.kt)("li",{parentName:"ol"},"Next, you will require the action ID to share it with others on ",(0,o.kt)("strong",{parentName:"li"},"Discord"),(0,o.kt)("sup",{parentName:"li",id:"fnref-1"},(0,o.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))," and seek their support for your action. For now, the simplest method to obtain it is by querying the balance again. The earlier generated UTXO and index serve as the action ID:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"cardano-cli query utxo --address $(cat payment.addr) --testnet-magic 4 --out-file /dev/stdout | jq -r 'keys[0]'\n")),(0,o.kt)("p",null,"You should get something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"64e7cad9b3ece7451c5b12043bdcdaa3c563392fa97eb9f2cec02fe821dffa54#0\n")),(0,o.kt)("p",null,"See the ",(0,o.kt)("a",{parentName:"p",href:"/tutorials/vote-action"},"Voting tutorial")," to find out how to vote on governance actions."),(0,o.kt)("div",{className:"footnotes"},(0,o.kt)("hr",{parentName:"div"}),(0,o.kt)("ol",{parentName:"div"},(0,o.kt)("li",{parentName:"ol",id:"fn-1"},"Discord is only being used temporarily. A future voting proposal discussion platform will be provided at a later date.",(0,o.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")))))}d.isMDXComponent=!0}}]);